/**
 *
 * @param {string || URL()} u The url we want to check
 * @returns {Boolean} Returns true if url is deemed to be internal to Gannett. Returns false if not or URL can not be parsed.
 */
export function isInternal(u) {
	// If nothing is provided, then bail with the default.
	if (!u) {
		console.error("No URL provided");
		return false;
	}

	try {
		// Parse the URL. Existing URL objects will parse here, too.
		u = new URL(u);
		// Get the `{domain}.{TLD}` using our utility function
		let domain = getDomainFromHostname(u.hostname);
		// Return true if the domain value is found in our Array below. Return false if not.
		return internalDomains.indexOf(domain) > -1;
	} catch (e) {
		// Problem parsing the URL. Bail with the default.
		console.error(`Oh no! ${u} is not a valid URL`);
		return false;
	}
}

/**
 *
 *
 * Returns the domain:
 * local.usatoday.com   => usatoday.com
 * www.usatoday.com     => usatoday.com
 * usatoday.com         => usatoday.com
 *
 * @param {string} hostname Expects a hostname from the JS URL object. Using regex, will return everything from the end to and past the first dot.
 * @returns {string} The second-level-domain, dot, TLD
 */
function getDomainFromHostname(hostname) {
	// See here: https://regex101.com/r/UY0tzv/1
	return hostname.match(/[a-zA-Z0-9]*\.[a-zA-Z0-9]*$/).join("") || null;
}

const internalDomains = [
	"alamogordonews.com",
	"app.com",
	"argusleader.com",
	"azcentral.com",
	"battlecreekenquirer.com",
	"baxterbulletin.com",
	"blackmountainnews.com",
	"brookfield-elmgrovenow.com",
	"bucyrustelegraphforum.com",
	"burlingtonfreepress.com",
	"caller.com",
	"centralfloridafuture.com",
	"chillicothegazette.com",
	"cincinnati.com",
	"citizen-times.com",
	"clarionledger.com",
	"coloradoan.com",
	"commercialappeal.com",
	"coshoctontribune.com",
	"courier-journal.com",
	"courierpostonline.com",
	"courierpress.com",
	"currentargus.com",
	"daily-times.com",
	"dailyrecord.com",
	"dailyworld.com",
	"delawarebeaches.com",
	"delawareonline.com",
	"delmarvanow.com",
	"demingheadlight.com",
	"democratandchronicle.com",
	"desertsun.com",
	"desmoinesregister.com",
	"detroitnews.com",
	"dmjuice.com",
	"dnj.com",
	"elpasotimes.com",
	"elpasoymas.com",
	"elsoldesalinas.com",
	"eveningsun.com",
	"farmersadvance.com",
	"fdlreporter.com",
	"flipsidepa.com",
	"floridatoday.com",
	"freep.com",
	"fsunews.com",
	"gametimepa.com",
	"gosanangelo.com",
	"greatfallstribune.com",
	"greenbaypressgazette.com",
	"greenfield-westallisnow.com",
	"greenvilleonline.com",
	"guampdn.com",
	"hattiesburgamerican.com",
	"hawkcentral.com",
	"hometownlife.com",
	"htrnews.com",
	"independentmail.com",
	"indystar.com",
	"inyork.com",
	"ithacajournal.com",
	"jacksonsun.com",
	"jconline.com",
	"jsonline.com",
	"kitsapsun.com",
	"knoxnews.com",
	"lakecountrynow.com",
	"lancastereaglegazette.com",
	"lansingstatejournal.com",
	"lavozarizona.com",
	"lcsun-news.com",
	"ldnews.com",
	"livingstondaily.com",
	"lohud.com",
	"mansfieldnewsjournal.com",
	"marionstar.com",
	"marshfieldnewsherald.com",
	"metroparentmagazine.com",
	"montgomeryadvertiser.com",
	"muskego-newberlinnow.com",
	"mycentraljersey.com",
	"mynorthshorenow.com",
	"mynorthwestnow.com",
	"myozaukeenow.com",
	"mysouthnow.com",
	"mysouthshorenow.com",
	"naplesnews.com",
	"newarkadvocate.com",
	"news-leader.com",
	"news-press.com",
	"newsleader.com",
	"northjersey.com",
	"packersnews.com",
	"pal-item.com",
	"pnj.com",
	"portclintonnewsherald.com",
	"postcrescent.com",
	"poughkeepsiejournal.com",
	"press-citizen.com",
	"pressconnects.com",
	"publicopiniononline.com",
	"redding.com",
	"reno.com",
	"reporternews.com",
	"rgj.com",
	"ruidosonews.com",
	"scsun-news.com",
	"sctimes.com",
	"sheboyganpress.com",
	"shreveporttimes.com",
	"stargazette.com",
	"statesmanjournal.com",
	"stevenspointjournal.com",
	"tallahassee.com",
	"tcpalm.com",
	"tennessean.com",
	"theadvertiser.com",
	"thecalifornian.com",
	"thedailyjournal.com",
	"thegleaner.com",
	"thehammontonnews.com",
	"theleafchronicle.com",
	"thenews-messenger.com",
	"thenewsstar.com",
	"thenorthwestern.com",
	"thespectrum.com",
	"thestarpress.com",
	"thetimesherald.com",
	"thetowntalk.com",
	"timesrecordnews.com",
	"trainusatoday.com",
	"upstateparent.com",
	"usatoday.com",
	"vcstar.com",
	"visaliatimesdelta.com",
	"waukeshanow.com",
	"wausaudailyherald.com",
	"wauwatosanow.com",
	"wisconsinrapidstribune.com",
	"wisfarmer.com",
	"ydr.com",
	"yorkdispatch.com",
	"zanesvilletimesrecorder.com",
	"recordonline.com",
	"ardmoreite.com",
	"news-star.com",
	"journaldemocrat.com",
	"ncnewspress.com",
	"hamburgreporter.com",
	"kiowacountysignal.com",
	"pratttribune.com",
	"sjnewsonline.com",
	"doverpost.com",
	"hockessincommunitynews.com",
	"middletowntranscript.com",
	"milfordbeacon.com",
	"scsuntimes.com",
	"sussexcountian.com",
	"beauregarddailynews.net",
	"donaldsonvillechief.com",
	"leesvilledailyleader.com",
	"postsouth.com",
	"weeklycitizen.com",
	"blufftontoday.com",
	"jacksonville.com",
	"fayobserver.com",
	"courier-tribune.com",
	"the-dispatch.com",
	"thetimesnews.com",
	"oakridger.com",
	"goupstate.com",
	"progress-index.com",
	"heraldtribune.com",
	"theledger.com",
	"dailycommercial.com",
	"newschief.com",
	"nwfdailynews.com",
	"crestviewbulletin.com",
	"apalachtimes.com",
	"chipleypaper.com",
	"starfl.com",
	"thedestinlog.com",
	"waltonsun.com",
	"newsherald.com",
	"srpressgazette.com",
	"dailycomet.com",
	"houmatoday.com",
	"news-journalonline.com",
	"staugustine.com",
	"buckscountycouriertimes.com",
	"ellwoodcityledger.com",
	"timesonline.com",
	"theintell.com",
	"burlingtoncountytimes.com",
	"chronicle-express.com",
	"adelnews.com",
	"newsrepublican.com",
	"nevadaiowajournal.com",
	"storycityherald.com",
	"theperrychief.com",
	"tricountytimes.com",
	"amestrib.com",
	"thehawkeye.com",
	"ocala.com",
	"gainesville.com",
	"gatorsports.com",
	"tuscaloosanews.com",
	"tidesports.com",
	"gadsdentimes.com",
	"mtshastanews.com",
	"Recordnet.com",
	"siskiyoudaily.com",
	"vvdailypress.com",
	"registerguard.com",
	"columbiadailyherald.com",
	"pawhuskajournalcapital.com",
	"examiner-enterprise.com",
	"palmbeachpost.com",
	"palmbeachdailynews.com",
	"crookstontimes.com",
	"examiner.net",
	"barnesville-enterprise.com",
	"daily-jeff.com",
	"mytownneo.com",
	"record-courier.com",
	"the-daily-record.com",
	"the-review.com",
	"times-gazette.com",
	"beaconjournal.com",
	"jdnews.com",
	"kinston.com",
	"newbernsj.com",
	"starnewsonline.com",
	"dispatch.com",
	"buckeyextra.com",
	"cantonrep.com",
	"thisweeknews.com",
	"indeonline.com",
	"thesuburbanite.com",
	"timesreporter.com",
	"goerie.com",
	"njherald.com",
	"poconorecord.com",
	"therecordherald.com",
	"tricountyindependent.com",
	"echo-pilot.com",
	"dansvilleonline.com",
	"eveningtribune.com",
	"steubencourier.com",
	"the-leader.com",
	"timestelegram.com",
	"wellsvilledaily.com",
	"monroecopost.com",
	"mpnnow.com",
	"uticaod.com",
	"waynepost.com",
	"chieftain.com",
	"agjournalonline.com",
	"bcdemocratonline.com",
	"fowlertribune.com",
	"lajuntatribunedemocrat.com",
	"moberlymonitor.com",
	"linncountyleader.com",
	"kirksvilledailyexpress.com",
	"boonvilledailynews.com",
	"chillicothenews.com",
	"columbiatribune.com",
	"stjamesnews.com",
	"alicetx.com",
	"brownwoodtx.com",
	"midlothianmirror.com",
	"recordstar.com",
	"runnelscountyregister.com",
	"waxahachietx.com",
	"yourglenrosetx.com",
	"yourstephenvilletx.com",
	"amarillo.com",
	"amtrib.com",
	"heralddemocrat.com",
	"lubbockonline.com",
	"prosperpressnews.com",
	"vanalstyneleader.com",
	"providencejournal.com",
	"fosters.com",
	"newportri.com",
	"norwichbulletin.com",
	"SeacoastOnline.com",
	"capecodtimes.com",
	"telegram.com",
	"worcestermag.com",
	"thegardnernews.com",
	"leominsterchamp.com",
	"millburysutton.com",
	"thegraftonnews.com",
	"thelandmark.com",
	"metrowestdailynews.com",
	"milforddailynews.com",
	"patriotledger.com",
	"baystateparent.com",
	"SouthCoastToday.com",
	"enterprisenews.com",
	"heraldnews.com",
	"tauntongazette.com",
	"sleepyeyenews.com",
	"wickedlocal.com",
	"barnstablepatriot.com",
	"pjstar.com",
	"eastpeoriatimescourier.com",
	"mortontimesnews.com",
	"washingtontimesreporter.com",
	"woodfordtimes.com",
	"chillicothetimesbulletin.com",
	"cantondailyledger.com",
	"pekintimes.com",
	"rrstar.com",
	"journalstandard.com",
	"galesburg.com",
	"pontiacdailyleader.com",
	"reviewatlas.com",
	"mcdonoughvoice.com",
	"starcourier.com",
	"geneseorepublic.com",
	"augustachronicle.com",
	"onlineathens.com",
	"savannahnow.com",
	"granitefallsnews.com",
	"montenews.com",
	"redwoodfallsgazette.com",
	"statesman.com",
	"Hookem.com",
	"austin360.com",
	"sj-r.com",
	"lincolncourier.com",
	"aledotimesrecord.com",
	"newstribune.info",
	"jacksonnewspapers.com",
	"blueridgenow.com",
	"gastongazette.com",
	"shelbystar.com",
	"lakenewsonline.com",
	"hsvvoice.com",
	"charlestonexpress.com",
	"paris-express.com",
	"pressargus.com",
	"boonevilledemocrat.com",
	"swtimes.com",
	"devilslakejournal.com",
	"cjonline.com",
	"dodgeglobe.com",
	"gctelegram.com",
	"hdnews.net",
	"hutchnews.com",
	"leavenworthtimes.com",
	"thekansan.com",
	"mcphersonsentinel.com",
	"butlercountytimesgazette.com",
	"ottawaherald.com",
	"salina.com",
	"wellingtondailynews.com",
	"oklahoman.com",
	"neoshodailynews.com",
	"auroraadvertiser.net",
	"therolladailynews.com",
	"morningsun.net",
	"sekvoice.com",
	"miamiok.com",
	"grandlakenews.com",
	"ridgecrestca.com",
	"taftmidwaydriller.com",
	"hillsdale.net",
	"hollandsentinel.com",
	"lenconnect.com",
	"sentinel-standard.com",
	"thedailyreporter.com",
	"monroenews.com",
	"sturgisjournal.com",
	"cheboygannews.com",
	"sooeveningnews.com",
	"Linkbostonhomes.com",
	"columbusalive.com",
	"columbusceo.com",
	"columbusmonthly.com",
	"columbusparent.com",
	"heraldmailmedia.com",
	"dailyamerican.com",
	"heraldtimesonline.com",
	"md-times.com",
	"reporter-times.com",
	"spencereveningworld.com",
	"tmnews.com",
	"aberdeennews.com",
	"charlevoixcourier.com",
	"gaylordheraldtimes.com",
	"petoskeynews.com",
	"southbendtribune.com",
	"thepublicopinion.com",
	"usatodaysportsplus.com",
];
